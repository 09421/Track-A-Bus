\subsection{Use Case 2: Få placering af alle busser og stoppesteder på valgt rute}
\textbf{Mål:}
\\
Målet med denne Use Case er at få vist alle busser samt busstoppesteder, for en valgt rute, på kortet. Busstoppesteder og busser vil være tydeligt markeret.
\\
\\
\textbf{Initiering:}
\\
Brugeren tilkendegiver over for systemet, hvilken busrute han ønsker få vist på kortet. Alternativt kan brugeren vælge en favoritrute, givet at favoritrute er tilføjet, igennem Use Case 4. Brugeren vil da få vist en busrute, samt hvor på ruten, busserne og busstoppestederne befinder sig.
\\
\\
\textbf{Aktører og interessenter:}
\\
Primære aktører:
\begin{itemize}
\item Brugeren
\end{itemize}
\textbf{Antal samtidige forekomster:}
\\
En samtidig forekomst.
\\
\\
\textbf{Ikke funktionelle krav:}
\begin{itemize}
\item Kommer senere.
\end{itemize}
\textbf{Startbetingelser:}
\\
Initialisering kræver, at en af normalforløbene for følgende Use Cases er fuldendt:
\begin{itemize}
\item Use Case 4 - Tilføj/Fjern busnummer til listen af favoritter.
\begin{itemize}
\item Hvis en favoritrute i forvejen er tilføjet, kan Use Case 2 startes fra hovedskærmen.
\end{itemize}
\item Use Case 1 - Vis liste af busruter
\begin{itemize}
\item Alle busruter præsenteres som en liste, efter fuldendt normalforløb for Use Case 1.
\end{itemize}
\end{itemize}
\textbf{Slutresultat ved succes:}
\\
Brugeren vil blive præsenteret for et kort, hvorpå busruten er tegnet ind, med tydeligt markerede busstoppesteder. Hvis GPSen i telefonen er slået til, vil kortet zoome ind til brugerens position. Hvis GPSen ikke er slået til, vil brugeren blive præsenteret for et kort, zoomet ud til at se hele ruten. På ruten vil alle kørende busser, deres retning samt busstoppestederne blive tydeligt vist.
\\
\\
\textbf{Slutresultat ved undtagelser:}
\\
Brugeren vil blive præsenteret for en fejlmeddelelse, hvori brugeren får besked på, at persisteret data ikke kunne tilgås. Hvis undtagelsen sker ved, at systemet går i dvale, vil ingen data blive indlæst.
\\
\\
\textbf{Normalforløb:}

\begin{enumerate}[1.]
\item To samtidige operationer:
\begin{enumerate}[A]
\item Kortet vil åbnes og blive vist.
\item Busruten og stoppesteder vil blive hentet fra persisteret data.
\end{enumerate}
\item Når Busruten og stoppestederne er hentet vil disse indtegnes på kortet.
\begin{enumerate}[A]
\item Hvis GPS er slået til, vil kortet zoome til brugerens position.
\item Hvis GPS ikke er slået til, vil kortet zoome så hele ruten vil blive præsenteret.
\end{enumerate}
\item Busserne på den valgte rute, vil få hentet deres position.
\item Busserne på den valgte rute, vil få deres position tegnet ind, tydeligt markeret med den kørende retning.
\item Efter et tidsinterval, vil alle busser på ruten, få deres positionen hentet igen.
\item Når alle bussernes positioner er hente, vil deres position på kortet opdateres.
\\\\\\
\end{enumerate}
\textbf{Undtagelser:}
\begin{enumerate}[\text{Undtagelse} 1:] 
\item Hentningen af data annulleres. 
	\begin{enumerate}[A]
	\item Systemet stopper med at hente bussernes positions data.
	\item Der returneres til listen over busruter.
	\end{enumerate}
\end{enumerate}
\begin{enumerate}[\text{Undtagelse} 2:] 
\item Systemet går i dvale, under hentning af data. 
	\begin{enumerate}[A]
	\item Hentningen gøres færdige, og værdier opdateres.
	\item Systemet går i dvale. Bussernes position vil ikke længere holdes opdateret.
	\end{enumerate}
\end{enumerate}
\begin{enumerate}[\text{Undtagelse} 3:] 
\item Positions data for busserne kan ikke tilgås. 
	\begin{enumerate}[A]
	\item Systemet viser en fejlmeddelelse til brugeren, der beskriver, at det ikke er muligt at indlæse bussernes position.
	\item Kortet vil blive vist, hvor busserne er på deres senest hentede position. Bussernes position opdateres ikke længere.
	\end{enumerate}
\end{enumerate}
\begin{enumerate}[\text{Undtagelse} 4:] 
\item Positions data for busserne kan igen tilgås. 
	\begin{enumerate}[A]
	\item Systemet fortsætter i normalforløbet. Bussernes position holdes igen opdateret.
	\end{enumerate}
\end{enumerate}
