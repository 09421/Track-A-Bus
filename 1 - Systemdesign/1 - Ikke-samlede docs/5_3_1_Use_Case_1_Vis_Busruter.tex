\documentclass[Main.tex]{subfiles} 
\begin{document}

\subsubsection{Use Case 1: Vis busruter}

"Vis busruter" Use Casen, er den eneste Use Case, brugeren kan starte, i TrackABus mobil applikationen, hvis der er installeret en hel ny kopi af applikationen. Den initialiseres når man trykker på "View busroutes" knappen fra hovedskærmen. Ved dette tryk startes BusListMenuActivity. I "onCreate" sættes der en progressbar, som kører indtil processen er færdig, hvorefter "onStart" kaldes, som undersøger om internettet kan tilgås. Hvis ikke, færdiggøres progressbaren og brugeren notificeres om, at der ikke kunne skabes forbindelse til nettet. Hvis der derimod er net,  tilgås TrackABusProvideren som en BoundService og rutenumrene bliver hentet. Alle funktioner i servicen sker i en seperat tråd, og svarer tilbage til viewet via en MessageHandler. Når rutenumrene er hentet, sender TrackABusProvideren en besked til den medsendte MessageHandler, som er oprettet i BusListMenuActivity. Hvis ingen ruter blev fundet, notificeres brugeren om dette og progresbaren færdiggøres. Ellers oprettes der en ListBusData for hver rute, og hvis nummeret eksisterer i SQLite databasen sættes denne rute som favoriseret. En BusListAdapter oprettes, og samtlige oprettede ListBusData sættes i den. Herefter sættes denne adapter til listen i BusListMenuActivity. \\På det simple sekvens diagram på figur \ref{fig:UC1SSD}, kan hovedforløbet for denne Use Case følges. Efter denne Use Case er fuldendt, kan Use Case 2 og 4 tilgås. Hvis Use Case 4 i forvejen er gennemgået, kan Use Case 2 startes fra hovedskærmen.

\begin{figure}[h!]
\centering
\includegraphics[scale=0.60]{Diagrammer/Sekvensdiagrammer/UC1SSD.jpg}
\caption{Sekvensdiagram over Use Case 1}
\label{fig:UC1SSD}
\end{figure}
\end{document}