\documentclass[Main.tex]{subfiles} 
\begin{document}
\begin{figure}[H]%[htbp]
\centering
\includegraphics[scale=1.00]{Diagrammer/MainTrackABusThreadCom.jpg}
\caption{Sekvensdiagram over - Main og TrackABusProvider på mobil applikationen}
\label{fig:SekvensdiagramTrackAbusThread}
\end{figure}
På figur \ref{fig:SekvensdiagramTrackAbusThread} vises et eksempel på, hvordan main tråden i mobil applikationen kommuniker med TrackABusProvideren. TrackABusProvideren agerer som en BoundService, hvilket betyder, at det er muligt at kalde til den, i det øjeblik den er bundet. Den skal alstå ikke instantieres. En ny tråd skabes, der kalder ned i data tilgangs laget for at hente data fra MySQL databasen, alt efter hvilken TrackABusProvider funktion, der er blevet kaldet. Det kan ses at main tråden ikke bliver blokeret imens det hentes fra databasen. Når TrackABusProvider er færdig med at hente data fra databasen, bliver der sendt en message til main tråden, som indeholder det hentede data. Ved hjælp af en message handler vil beskeden blive modtaget i main tråden, og brugeren bliver præsenteret for det hentede data.\\
SetFavoriteBusRoute og RemoveFavorite bliver blot startet af main tråden, og sender en besked tilbage når de er færdige med at gemme eller slette fra SQLite databasen. Det vil ikke være muligt at starte en ny SetFavoriteBusRoute eller RemoveFavorite imens en af dem kører.
\end{document}