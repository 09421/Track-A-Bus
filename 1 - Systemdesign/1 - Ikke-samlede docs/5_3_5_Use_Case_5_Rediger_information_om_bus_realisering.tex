\documentclass[Main.tex]{subfiles} 
\begin{document}

\subsubsection{Use Case 5: Rediger information om bus}
Denne Use Case består af 3 normalforløb, der alle bliver initialiseret fra \url{www.TrackABus.dk/bus}, se figur \ref{fig:BusHjemmeside} for hvordan grænsefladen ser ud. Der vil, når siden er blevet indlæst, vil viewet kalde funktionen ExecuteOnLoad() der laver tre asynkrone kald til dens controller, der henter navne på alle busruterne, alle busserne, og alle busser der ikke er knyttet til nogle rute. Det disse er færdige vil viewet opdatere de relevante lister på skærmen.\\
\noindent
Normalforløb 1, hvor en ny bus skal tilføjes til systemet bliver initialiseret, ved at administratoren indskriver ID'et for den nye bus i feltet: 'Bus ID', hvorefter der trykket på knappen 'Add'. Dette vil tilføje bussen til listen, men vil endnu ikke gemme det på databasen, dette vil først ske når administratoren trykker på 'Save' knappen. Et tryk på save knappen, vil kalde controller funktionen SaveBusChanges(), der vil finde de busser der er blevet tilføjet til liste, samt de busser der er blevet færdig fra listen. SaveBusChanges() vil nu kalde funktionerne removeBusses() for at fjerne de busser fra databasen, der blev fjernet fra listen, og addBusses() for at tilføje til databasen, de busser administratoren tilføjede til listen. Disse to funktioner kalder ned i DBConnection klassen, hvilket er en static klasse, der bliver brugt til alt tilgang til MySQL databasen. Til sidste vil der blive retuneret til viewet, der nu vil informere administratoren om at der er blevet gemt.\\
Normalforløb 2, hvor der skal slettes en bus fra MySQL databasen, bliver initialiseret ved at administratoren vælger en bus, fra listen af alle busser gemt i databasen, hvorefter der bliver trykket på knappen 'Remove'. Bussen vil nu blive fjernet fra listen. Først vil tryk op 'Save' knappen vil kalde funktionen SaveBusChanges() som i normal forløb 1.\\
I normalforløb 3, hvor det skal være muligt at ændre information om en bus, bliver initialiseret ved at administratoren vælger en af busserne fra listen, skriver et nyt ID i feltet 'Bus ID', hvorefter der bliver trykker på knappen 'Rename'. Bussen vil nu skifte navn i listen, men igen først ved tryk på knappen 'Save' vil funktionen SaveBusChanges() blive kaldt, som i normalforløb 1 og 2.
\end{document}