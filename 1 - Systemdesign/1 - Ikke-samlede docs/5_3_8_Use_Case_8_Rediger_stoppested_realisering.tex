\documentclass[Main.tex]{subfiles} 
\begin{document}

\subsubsection{Use Case 8: Rediger stoppested}
Use Case 8 består af tre normalforløb der omhandler at kunne tilføje, fjerne eller ændre stoppesteder i databasen. Alle tre normalforløb bliver startet fra administrations hjemmesiden under stoppesteds redigering. \footnote{Administrations hjemmeside, stoppesteds redigering: \url{www.trackabus.dk/Stop}} 

Normalforløb 1 initialiseres ved, at administratoren trykker et sted på det viste kort. Dette vil starte et click event på kortet Der placerer en markør, hvor der blev trykket. Det er muligt at fjerne denne markør ved at trykker på den igen, da dette vil trigger et click event på markøren, som sletter den, og derved gør det muligt at placere en ny markør. Efter at have placeret markøren, vil det være muligt at trække den rundt på kortet, så dens position kan angives præcist. Når den endelige ønskede plasering for markøren er fundet, indtastes navnet på stoppestedet i feltet "Stop name". Ved tryk på knappen "Save", vil gps-koordinaterne for markøren blive fundet, og sendt sammen med stoppestedsnavnet, med et asynkron kald til StopController funktionen "Save". Denne kalder til data tilgangs laget, hvor det nye busstoppested gemmes i databasen.\\

Normalforløb 2 bliver initialiseret ved at administratoren vælger et stoppested fra listen af alle stoppesteder, og trykker på knappen "Delete". Dette vil lave et asynkront kald til StopController funktionen "Delete", der kalder ned til data tilgangs laget, hvor sørges for, at det valgte stoppested fjernes fra databasen.\\

Normalforløb 3 omhandler at kunne ændre position og navn for et givet stoppested. Denne bliver initialiseret ved, at administratoren vælger et stoppested fra listen af alle stoppesteder. Dette vil starte et onchange event, der laver et asynkront kald til StopController funktionen "GetPosistion". Denne kalder videre ned i data tilgangs laget, for at hente gps-koordinaterne for det valgte stoppested fra databasen. Koordinaterne vil blive sendt tilbage til viewet, der nu vil oprette en ny marker på kortet, med position tilsvarende det modtagede koordinat-sæt. Administratoren har nu mulighed for at trække i markeren for at ændre stoppestedets position, samt ændre dennes navn i feltet "Stop Name". Når de ønskede ændringer er foretaget, trykkes der på knappen "Save changes". Dette starter et asynkront kald til StopController funktionen "SaveChangeToStop, som kalder videre ned i data tilgangs laget. Her sørges der for at stoppestedets navn og position bliver opdateret i databasen.

\end{document}